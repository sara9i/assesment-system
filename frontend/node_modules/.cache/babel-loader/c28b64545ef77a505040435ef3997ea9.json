{"ast":null,"code":"import { createStore } from 'redux';\nlet initState = {\n  user: null,\n  accessToken: '',\n  refreshToken: '',\n  isUserLoggedIn: false\n};\n\nfunction AuthReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  if (action.type === 'AUTH/LOG_IN') {\n    let newState = { ...state,\n      isUserLoggedIn: true,\n      user: action.payload.user,\n      accessToken: action.payload.accessToken,\n      refreshToken: action.payload.refreshToken\n    };\n    window.localStorage.setItem('auth', JSON.stringify({ ...newState\n    }));\n    return { ...newState\n    };\n  }\n\n  if (action.type === 'AUTH/LOG_OUT') {\n    window.localStorage.clear();\n    return { ...initState\n    };\n  }\n}\n\nexport const getRefreshToken = state => state.isUserLoggedIn ? state.refreshToken : null;\nexport const getAccessToken = state => state.isUserLoggedIn ? state.accessToken : null;\nexport const getLoggedInUser = state => state.isUserLoggedIn ? state.user : null;\nexport const isUserLoggedIn = state => state ? state.isUserLoggedIn : false;\nexport default createStore(AuthReducer, initState);","map":{"version":3,"sources":["/Users/sara/Documents/personal-projects/metaschool/frontend/src/stores/authStore.js"],"names":["createStore","initState","user","accessToken","refreshToken","isUserLoggedIn","AuthReducer","state","action","type","newState","payload","window","localStorage","setItem","JSON","stringify","clear","getRefreshToken","getAccessToken","getLoggedInUser"],"mappings":"AAAA,SAASA,WAAT,QAA4B,OAA5B;AAEA,IAAIC,SAAS,GAAG;AACdC,EAAAA,IAAI,EAAE,IADQ;AAEdC,EAAAA,WAAW,EAAE,EAFC;AAGdC,EAAAA,YAAY,EAAE,EAHA;AAIdC,EAAAA,cAAc,EAAE;AAJF,CAAhB;;AAOA,SAASC,WAAT,GAAgD;AAAA,MAA3BC,KAA2B,uEAAnBN,SAAmB;AAAA,MAARO,MAAQ;;AAC9C,MAAIA,MAAM,CAACC,IAAP,KAAgB,aAApB,EAAmC;AACjC,QAAIC,QAAQ,GAAG,EACb,GAAGH,KADU;AAEbF,MAAAA,cAAc,EAAE,IAFH;AAGbH,MAAAA,IAAI,EAAEM,MAAM,CAACG,OAAP,CAAeT,IAHR;AAIbC,MAAAA,WAAW,EAAEK,MAAM,CAACG,OAAP,CAAeR,WAJf;AAKbC,MAAAA,YAAY,EAAEI,MAAM,CAACG,OAAP,CAAeP;AALhB,KAAf;AAOAQ,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CACE,MADF,EAEEC,IAAI,CAACC,SAAL,CAAe,EACb,GAAGN;AADU,KAAf,CAFF;AAMA,WAAO,EACL,GAAGA;AADE,KAAP;AAGD;;AACD,MAAIF,MAAM,CAACC,IAAP,KAAgB,cAApB,EAAoC;AAClCG,IAAAA,MAAM,CAACC,YAAP,CAAoBI,KAApB;AACA,WAAO,EACL,GAAGhB;AADE,KAAP;AAGD;AACF;;AAED,OAAO,MAAMiB,eAAe,GAAIX,KAAD,IAC7BA,KAAK,CAACF,cAAN,GAAuBE,KAAK,CAACH,YAA7B,GAA4C,IADvC;AAGP,OAAO,MAAMe,cAAc,GAAIZ,KAAD,IAC5BA,KAAK,CAACF,cAAN,GAAuBE,KAAK,CAACJ,WAA7B,GAA2C,IADtC;AAGP,OAAO,MAAMiB,eAAe,GAAIb,KAAD,IAC7BA,KAAK,CAACF,cAAN,GAAuBE,KAAK,CAACL,IAA7B,GAAoC,IAD/B;AAGP,OAAO,MAAMG,cAAc,GAAIE,KAAD,IAAYA,KAAK,GAAGA,KAAK,CAACF,cAAT,GAA0B,KAAlE;AAEP,eAAeL,WAAW,CAACM,WAAD,EAAcL,SAAd,CAA1B","sourcesContent":["import { createStore } from 'redux';\n\nlet initState = {\n  user: null,\n  accessToken: '',\n  refreshToken: '',\n  isUserLoggedIn: false,\n};\n\nfunction AuthReducer(state = initState, action) {\n  if (action.type === 'AUTH/LOG_IN') {\n    let newState = {\n      ...state,\n      isUserLoggedIn: true,\n      user: action.payload.user,\n      accessToken: action.payload.accessToken,\n      refreshToken: action.payload.refreshToken,\n    };\n    window.localStorage.setItem(\n      'auth',\n      JSON.stringify({\n        ...newState,\n      })\n    );\n    return {\n      ...newState,\n    };\n  }\n  if (action.type === 'AUTH/LOG_OUT') {\n    window.localStorage.clear();\n    return {\n      ...initState,\n    };\n  }\n}\n\nexport const getRefreshToken = (state) =>\n  state.isUserLoggedIn ? state.refreshToken : null;\n\nexport const getAccessToken = (state) =>\n  state.isUserLoggedIn ? state.accessToken : null;\n\nexport const getLoggedInUser = (state) =>\n  state.isUserLoggedIn ? state.user : null;\n\nexport const isUserLoggedIn = (state) => (state ? state.isUserLoggedIn : false);\n\nexport default createStore(AuthReducer, initState);\n"]},"metadata":{},"sourceType":"module"}