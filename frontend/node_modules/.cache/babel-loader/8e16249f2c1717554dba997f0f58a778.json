{"ast":null,"code":"var _jsxFileName = \"/Users/sara/Documents/personal-projects/metaschool/frontend/src/pages/Assessments/components/AddAssesment/AssessmentAdd.js\";\nimport { Modal, Spin } from \"antd\";\nimport React, { useState } from \"react\";\nimport { addAssessment } from \"../../../../services/assessmentService\";\nimport AssessmentForm from \"./AssessmentForm\"; // import { formatCategoriesArray } from \"../../utilities/courseFormat\";\n// import './AssessmentForm.css';\n\nfunction AssessmentAdd(props) {\n  const [initialValues, setInitialValues] = useState({\n    description: \"\",\n    title: \"\",\n    isActive: true,\n    question: \"\",\n    answerOptions: []\n  });\n  const [status, setStatus] = useState({\n    type: \"IDLE\",\n    message: \"In idle mode\"\n  });\n\n  const onSubmit = async values => {\n    console.log(\"Initial value\", initialValues);\n    let payload = { ...values\n    };\n    setStatus({\n      type: \"LOADING\",\n      message: \"Request in Progress!\"\n    });\n    await addAssessment(payload).then(response => {\n      console.log(\"Successfully Added! \", response);\n      setStatus({\n        type: \"SUCCESS\",\n        message: \"Data added successfully!\"\n      });\n    }).catch(error => {\n      var _error$response, _error$response$data;\n\n      alert(\"Posting data to backend failed!\");\n      if (error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) setStatus({\n        type: \"ERROR\",\n        message: error.response.data.message\n      });else setStatus({\n        type: \"ERROR\",\n        message: \"Something went wrong!\"\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    title: `Add Assessment`,\n    visible: props.isOpen,\n    onCancel: () => props.toggle(),\n    footer: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, status.type === \"LOADING\" ? /*#__PURE__*/React.createElement(Spin, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(AssessmentForm, {\n    type: \"Add\",\n    initialValues: initialValues,\n    onSubmit: onSubmit,\n    status: status,\n    visible: props.isOpen,\n    setStatus: setStatus,\n    feedbackTemplates: props.feedbackTemplates,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default AssessmentAdd;","map":{"version":3,"sources":["/Users/sara/Documents/personal-projects/metaschool/frontend/src/pages/Assessments/components/AddAssesment/AssessmentAdd.js"],"names":["Modal","Spin","React","useState","addAssessment","AssessmentForm","AssessmentAdd","props","initialValues","setInitialValues","description","title","isActive","question","answerOptions","status","setStatus","type","message","onSubmit","values","console","log","payload","then","response","catch","error","alert","data","isOpen","toggle","feedbackTemplates"],"mappings":";AAAA,SAASA,KAAT,EAAgBC,IAAhB,QAA4B,MAA5B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,aAAT,QAA8B,wCAA9B;AACA,OAAOC,cAAP,MAA2B,kBAA3B,C,CAEA;AACA;;AAEA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC5B,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCN,QAAQ,CAAC;AACjDO,IAAAA,WAAW,EAAE,EADoC;AAEjDC,IAAAA,KAAK,EAAE,EAF0C;AAGjDC,IAAAA,QAAQ,EAAE,IAHuC;AAIjDC,IAAAA,QAAQ,EAAE,EAJuC;AAKjDC,IAAAA,aAAa,EAAE;AALkC,GAAD,CAAlD;AAQA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC;AACnCc,IAAAA,IAAI,EAAE,MAD6B;AAEnCC,IAAAA,OAAO,EAAE;AAF0B,GAAD,CAApC;;AAKA,QAAMC,QAAQ,GAAG,MAAOC,MAAP,IAAkB;AACjCC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6Bd,aAA7B;AAEA,QAAIe,OAAO,GAAG,EACZ,GAAGH;AADS,KAAd;AAIAJ,IAAAA,SAAS,CAAC;AAAEC,MAAAA,IAAI,EAAE,SAAR;AAAmBC,MAAAA,OAAO,EAAE;AAA5B,KAAD,CAAT;AACA,UAAMd,aAAa,CAACmB,OAAD,CAAb,CACHC,IADG,CACGC,QAAD,IAAc;AAClBJ,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCG,QAApC;AACAT,MAAAA,SAAS,CAAC;AACRC,QAAAA,IAAI,EAAE,SADE;AAERC,QAAAA,OAAO,EAAE;AAFD,OAAD,CAAT;AAID,KAPG,EAQHQ,KARG,CAQIC,KAAD,IAAW;AAAA;;AAChBC,MAAAA,KAAK,CAAC,iCAAD,CAAL;AACA,UAAID,KAAJ,aAAIA,KAAJ,0CAAIA,KAAK,CAAEF,QAAX,4EAAI,gBAAiBI,IAArB,yDAAI,qBAAuBX,OAA3B,EACEF,SAAS,CAAC;AACRC,QAAAA,IAAI,EAAE,OADE;AAERC,QAAAA,OAAO,EAAES,KAAK,CAACF,QAAN,CAAeI,IAAf,CAAoBX;AAFrB,OAAD,CAAT,CADF,KAKKF,SAAS,CAAC;AAAEC,QAAAA,IAAI,EAAE,OAAR;AAAiBC,QAAAA,OAAO,EAAE;AAA1B,OAAD,CAAT;AACN,KAhBG,CAAN;AAiBD,GAzBD;;AA0BA,sBACE,oBAAC,KAAD;AACE,IAAA,KAAK,EAAG,gBADV;AAEE,IAAA,OAAO,EAAEX,KAAK,CAACuB,MAFjB;AAGE,IAAA,QAAQ,EAAE,MAAMvB,KAAK,CAACwB,MAAN,EAHlB;AAIE,IAAA,MAAM,EAAE,IAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGhB,MAAM,CAACE,IAAP,KAAgB,SAAhB,gBACC,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,gBAGC,oBAAC,cAAD;AACE,IAAA,IAAI,EAAC,KADP;AAEE,IAAA,aAAa,EAAET,aAFjB;AAGE,IAAA,QAAQ,EAAEW,QAHZ;AAIE,IAAA,MAAM,EAAEJ,MAJV;AAKE,IAAA,OAAO,EAAER,KAAK,CAACuB,MALjB;AAME,IAAA,SAAS,EAAEd,SANb;AAOE,IAAA,iBAAiB,EAAET,KAAK,CAACyB,iBAP3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,CADF;AAsBD;;AAED,eAAe1B,aAAf","sourcesContent":["import { Modal, Spin } from \"antd\";\nimport React, { useState } from \"react\";\nimport { addAssessment } from \"../../../../services/assessmentService\";\nimport AssessmentForm from \"./AssessmentForm\";\n\n// import { formatCategoriesArray } from \"../../utilities/courseFormat\";\n// import './AssessmentForm.css';\n\nfunction AssessmentAdd(props) {\n  const [initialValues, setInitialValues] = useState({\n    description: \"\",\n    title: \"\",\n    isActive: true,\n    question: \"\",\n    answerOptions: [],\n  });\n\n  const [status, setStatus] = useState({\n    type: \"IDLE\",\n    message: \"In idle mode\",\n  });\n\n  const onSubmit = async (values) => {\n    console.log(\"Initial value\", initialValues);\n\n    let payload = {\n      ...values,\n    };\n\n    setStatus({ type: \"LOADING\", message: \"Request in Progress!\" });\n    await addAssessment(payload)\n      .then((response) => {\n        console.log(\"Successfully Added! \", response);\n        setStatus({\n          type: \"SUCCESS\",\n          message: \"Data added successfully!\",\n        });\n      })\n      .catch((error) => {\n        alert(\"Posting data to backend failed!\");\n        if (error?.response?.data?.message)\n          setStatus({\n            type: \"ERROR\",\n            message: error.response.data.message,\n          });\n        else setStatus({ type: \"ERROR\", message: \"Something went wrong!\" });\n      });\n  };\n  return (\n    <Modal\n      title={`Add Assessment`}\n      visible={props.isOpen}\n      onCancel={() => props.toggle()}\n      footer={null}\n    >\n      {status.type === \"LOADING\" ? (\n        <Spin size=\"large\" />\n      ) : (\n        <AssessmentForm\n          type=\"Add\"\n          initialValues={initialValues}\n          onSubmit={onSubmit}\n          status={status}\n          visible={props.isOpen}\n          setStatus={setStatus}\n          feedbackTemplates={props.feedbackTemplates}\n        />\n      )}\n    </Modal>\n  );\n}\n\nexport default AssessmentAdd;\n"]},"metadata":{},"sourceType":"module"}